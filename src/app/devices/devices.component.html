<div class="bg-[#1E1E1E] h-full">
  <app-header></app-header>
  <div class="px-[8%]">
    <div class="flex items-center justify-between">
      <h2 class="my-8 text-lg text-white font-medium">Devices</h2>
      <div class="flex grow justify-center ml-auto">
        <div
          class="flex w-[390px] items-center px-4 rounded-xl search-bar h-8 border border-[#FFFFFF2D]"
        >
          <input
            class="grow focus:outline-0 placeholder:text-[#BDBDBD] text-sm placeholder:text-sm text-[#BDBDBD]"
            (input)="setKeyword($event)"
            placeholder="Search"
          />
          <button (click)="search()" class="w-3 h-3">
            <svg
              width="9"
              height="10"
              viewBox="0 0 9 10"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M3.225 6.88755C2.32367 6.88755 1.56083 6.57505 0.9365 5.95005C0.312167 5.32505 0 4.57088 0 3.68755C0 2.80422 0.3125 2.05005 0.9375 1.42505C1.5625 0.800049 2.31875 0.487549 3.20625 0.487549C4.09375 0.487549 4.84792 0.800049 5.46875 1.42505C6.08958 2.05005 6.4 2.80484 6.4 3.68942C6.4 4.04651 6.34167 4.39172 6.225 4.72505C6.10833 5.05838 5.93333 5.37088 5.7 5.66255L8.725 8.66255C8.8 8.73388 8.8375 8.82463 8.8375 8.9348C8.8375 9.04497 8.8 9.13755 8.725 9.21255C8.65 9.28755 8.55742 9.32505 8.44725 9.32505C8.33708 9.32505 8.24633 9.28755 8.175 9.21255L5.1625 6.20005C4.9125 6.41672 4.621 6.58547 4.288 6.7063C3.955 6.82713 3.60067 6.88755 3.225 6.88755ZM3.2125 6.13755C3.88958 6.13755 4.46513 5.89797 4.93913 5.4188C5.41304 4.93963 5.65 4.36255 5.65 3.68755C5.65 3.01255 5.41304 2.43547 4.93913 1.9563C4.46513 1.47713 3.88958 1.23755 3.2125 1.23755C2.5285 1.23755 1.94708 1.47713 1.46825 1.9563C0.989417 2.43547 0.75 3.01255 0.75 3.68755C0.75 4.36255 0.989417 4.93963 1.46825 5.4188C1.94708 5.89797 2.5285 6.13755 3.2125 6.13755Z"
                fill="#BDBDBD"
              />
            </svg>
          </button>
          <button (click)="filter()" class="w-3 h-3 relative">
            <svg
              width="9"
              height="10"
              viewBox="0 0 9 10"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M4.21025 9.5C4.10342 9.5 4.01458 9.46404 3.94375 9.39213C3.87292 9.32029 3.8375 9.23125 3.8375 9.125V7.0625C3.8375 6.95625 3.87367 6.86717 3.946 6.79525C4.01825 6.72342 4.10783 6.6875 4.21475 6.6875C4.32158 6.6875 4.41042 6.72342 4.48125 6.79525C4.55208 6.86717 4.5875 6.95625 4.5875 7.0625V7.725H8.625C8.73125 7.725 8.82033 7.76117 8.89225 7.8335C8.96408 7.90575 9 7.99533 9 8.10225C9 8.20908 8.96408 8.29792 8.89225 8.36875C8.82033 8.43958 8.73125 8.475 8.625 8.475H4.5875V9.125C4.5875 9.23125 4.55133 9.32029 4.479 9.39213C4.40675 9.46404 4.31717 9.5 4.21025 9.5ZM0.375 8.475C0.26875 8.475 0.179708 8.43883 0.107875 8.3665C0.0359584 8.29425 0 8.20467 0 8.09775C0 7.99092 0.0359584 7.90208 0.107875 7.83125C0.179708 7.76042 0.26875 7.725 0.375 7.725H2.7125C2.81875 7.725 2.90783 7.76117 2.97975 7.8335C3.05158 7.90575 3.0875 7.99533 3.0875 8.10225C3.0875 8.20908 3.05158 8.29792 2.97975 8.36875C2.90783 8.43958 2.81875 8.475 2.7125 8.475H0.375ZM2.71025 6.4C2.60342 6.4 2.51458 6.36404 2.44375 6.29213C2.37292 6.22029 2.3375 6.13125 2.3375 6.025V5.375H0.375C0.26875 5.375 0.179708 5.33883 0.107875 5.2665C0.0359584 5.19425 0 5.10467 0 4.99775C0 4.89092 0.0359584 4.80208 0.107875 4.73125C0.179708 4.66042 0.26875 4.625 0.375 4.625H2.3375V3.95C2.3375 3.84375 2.37367 3.75467 2.446 3.68275C2.51825 3.61092 2.60783 3.575 2.71475 3.575C2.82158 3.575 2.91042 3.61092 2.98125 3.68275C3.05208 3.75467 3.0875 3.84375 3.0875 3.95V6.025C3.0875 6.13125 3.05133 6.22029 2.979 6.29213C2.90675 6.36404 2.81717 6.4 2.71025 6.4ZM4.2125 5.375C4.10625 5.375 4.01721 5.33883 3.94538 5.2665C3.87346 5.19425 3.8375 5.10467 3.8375 4.99775C3.8375 4.89092 3.87346 4.80208 3.94538 4.73125C4.01721 4.66042 4.10625 4.625 4.2125 4.625H8.625C8.73125 4.625 8.82033 4.66117 8.89225 4.7335C8.96408 4.80575 9 4.89533 9 5.00225C9 5.10908 8.96408 5.19792 8.89225 5.26875C8.82033 5.33958 8.73125 5.375 8.625 5.375H4.2125ZM6.28525 3.3125C6.17842 3.3125 6.08958 3.27654 6.01875 3.20462C5.94792 3.13279 5.9125 3.04375 5.9125 2.9375V0.875C5.9125 0.76875 5.94867 0.679667 6.021 0.60775C6.09325 0.535917 6.18283 0.5 6.28975 0.5C6.39658 0.5 6.48542 0.535917 6.55625 0.60775C6.62708 0.679667 6.6625 0.76875 6.6625 0.875V1.525H8.625C8.73125 1.525 8.82033 1.56117 8.89225 1.6335C8.96408 1.70575 9 1.79533 9 1.90225C9 2.00908 8.96408 2.09792 8.89225 2.16875C8.82033 2.23958 8.73125 2.275 8.625 2.275H6.6625V2.9375C6.6625 3.04375 6.62633 3.13279 6.554 3.20462C6.48175 3.27654 6.39217 3.3125 6.28525 3.3125ZM0.375 2.275C0.26875 2.275 0.179708 2.23883 0.107875 2.1665C0.0359584 2.09425 0 2.00467 0 1.89775C0 1.79092 0.0359584 1.70208 0.107875 1.63125C0.179708 1.56042 0.26875 1.525 0.375 1.525H4.7875C4.89375 1.525 4.98283 1.56117 5.05475 1.6335C5.12658 1.70575 5.1625 1.79533 5.1625 1.90225C5.1625 2.00908 5.12658 2.09792 5.05475 2.16875C4.98283 2.23958 4.89375 2.275 4.7875 2.275H0.375Z"
                fill="#BDBDBD"
              />
            </svg>
            <div
              [class]="openSort ? 'w-32 p-2.5 h-auto' : 'hidden w-0 h-0'"
              class="flex flex-col gap-y-2.5 text-[#FAFAFA] text-left bg-[#1E1E1E] absolute top-6 right-0 rounded-lg border border-[#383838] z-10"
            >
              <h6 class="text-sm font-bold">Sort</h6>
              <div class="flex flex-col gap-y-2.5">
                <h6 class="text-sm font-bold">Battery</h6>
                <form>
                  <fieldset class="flex flex-col gap-y-2.5">
                    <div
                      class="flex items-center gap-x-2.5"
                      (click)="sort('high_to_low'); filter()"
                    >
                      <input
                        type="radio"
                        name="sort"
                        id="high"
                        class="radio bg-[#1E1E1E] color-[#FAFAFA]"
                      />
                      <label for="high" class="text-sm"> High to low </label>
                    </div>
                    <div
                      class="flex items-center gap-x-2.5"
                      (click)="sort('low_to_high'); filter()"
                    >
                      <input
                        type="radio"
                        name="sort"
                        id="low"
                        class="radio bg-[#1E1E1E] color-[#FAFAFA]"
                      />
                      <label for="low" class="text-sm"> Low to high</label>
                    </div>
                  </fieldset>
                </form>
              </div>
            </div>
          </button>
        </div>
      </div>
    </div>
    <div class="flex gap-x-[1.33%] gap-y-4">
      @for(item of devices; track item.deviceName){
      <a
        routerLink="/devices/{{ item.deviceName.toLowerCase() }}"
        class="w-[24%] px-4 py-4 border border-[#FFFFFF2B] rounded-xl"
        ><div class="">
          <div class="flex justify-between">
            <h5 class="text-lg font-medium text-white uppercase">
              {{ item.deviceName }}
            </h5>
            <div class="flex">
              <div class="w-4.5">
                <svg
                  width="10"
                  height="16"
                  viewBox="0 0 10 16"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M4.99885 0.5C5.07004 0.5 5.13894 0.53975 5.17109 0.605222L6.39972 2.68862C6.41809 2.72136 6.43187 2.75409 6.43187 2.79384C6.43187 2.82658 6.42498 2.86633 6.40661 2.89906C6.36757 2.96454 6.30327 3.00429 6.22748 3.00429L5.40993 3.00429L5.40993 8.58574C6.31934 7.99415 7.86489 7.63874 7.86489 6.9583L7.86489 6.33398L7.24943 6.33398C7.1346 6.33398 7.04504 6.24279 7.04504 6.12588L7.04504 4.04248C7.04504 3.92556 7.1346 3.83437 7.24943 3.83437L9.29561 3.83437C9.41044 3.83437 9.5 3.92556 9.5 4.04248L9.5 6.12588C9.5 6.24279 9.41044 6.33398 9.29561 6.33398L8.68245 6.33398L8.68245 6.9583C8.68245 8.72136 5.40993 8.85464 5.40993 9.87412L5.40993 12.2194C6.11266 12.4088 6.63856 13.0588 6.63856 13.8328C6.63626 14.7518 5.90138 15.5 4.99885 15.5C4.09633 15.5 3.36144 14.7518 3.36144 13.8328C3.36144 13.0588 3.88505 12.4065 4.59007 12.2194C4.59007 11.3051 4.80824 11.1929 3.20299 10.4751C1.1568 9.53741 1.31756 9.11652 1.31756 7.92868C0.837586 7.75331 0.5 7.29735 0.5 6.75019C0.5 6.0604 1.04886 5.49922 1.72863 5.49922C2.40839 5.49922 2.95726 6.05807 2.95726 6.75019C2.95726 7.29735 2.61738 7.75331 2.1397 7.92868L2.1397 8.62549C2.1397 9.30592 3.68755 9.66134 4.59467 10.2529L4.59467 3.00195L3.77711 3.00195C3.70133 3.00195 3.63702 2.9622 3.59798 2.89673C3.55894 2.83125 3.56583 2.74708 3.60487 2.68862L4.8335 0.605222C4.85877 0.53975 4.92766 0.5 4.99885 0.5Z"
                    fill="white"
                  />
                </svg>
              </div>
              <div class="w-4.5">
                <svg
                  width="8"
                  height="16"
                  viewBox="0 0 8 16"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M1.37521 7.77512H6.62521V2.82512H1.37521V7.77512ZM0.812714 15.5001C0.653339 15.5001 0.519776 15.4462 0.412026 15.3383C0.304151 15.2306 0.250214 15.097 0.250214 14.9376V2.26262C0.250214 2.10325 0.304151 1.96962 0.412026 1.86175C0.519776 1.754 0.653339 1.70012 0.812714 1.70012H2.50021V1.06262C2.50021 0.903247 2.55415 0.769622 2.66203 0.661747C2.76978 0.553997 2.90334 0.500122 3.06271 0.500122H4.93771C5.09709 0.500122 5.23071 0.553997 5.33859 0.661747C5.44634 0.769622 5.50021 0.903247 5.50021 1.06262V1.70012H7.18771C7.34709 1.70012 7.48071 1.754 7.58859 1.86175C7.69634 1.96962 7.75021 2.10325 7.75021 2.26262V14.9376C7.75021 15.097 7.69634 15.2306 7.58859 15.3383C7.48071 15.4462 7.34709 15.5001 7.18771 15.5001H0.812714Z"
                    fill="white"
                  />
                </svg>
              </div>
              <div class="w-4.5">
                <svg
                  width="15"
                  height="15"
                  viewBox="0 0 15 15"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M0.850159 14.5002C0.675159 14.5002 0.537659 14.4408 0.437659 14.3221C0.337659 14.2033 0.287659 14.0752 0.287659 13.9377C0.287659 13.8752 0.300159 13.8096 0.325159 13.7408C0.350159 13.6721 0.393909 13.6065 0.456409 13.544L13.5439 0.45647C13.6064 0.39397 13.672 0.35022 13.7408 0.32522C13.8095 0.30022 13.8752 0.28772 13.9377 0.28772C14.0752 0.28772 14.2033 0.33772 14.322 0.43772C14.4408 0.53772 14.5002 0.67522 14.5002 0.85022V13.6565C14.5002 13.894 14.4189 14.094 14.2564 14.2565C14.0939 14.419 13.8939 14.5002 13.6564 14.5002H0.850159ZM9.36266 13.3752H13.3752V2.20022L9.36266 6.21272V13.3752Z"
                    fill="white"
                  />
                </svg>
              </div>
            </div>
          </div>
          <div class="details flex flex-col mt-2 gap-y-2">
            <div class="offline-deployed flex gap-x-2">
              <p
                class="text-xs h-5 px-1 rounded-sm"
                [class]="
                  item.status == 'Online'
                    ? 'text-[#00A44B] bg-[#00A44B33]'
                    : 'text-[#DD2D24] bg-[#DD2D2433]'
                "
              >
                {{ item.status }}
              </p>
              <p
                class="text-xs bg-[#26A2E933] text-[#26A2E9] h-5 px-1 rounded-sm"
              >
                Deployed
              </p>
            </div>
            <p class="text-sm text-white">Store: {{ item.storeName }}</p>
            <p class="text-sm text-white">FMCG: {{ item.FMCGname }}</p>
            <p class="text-sm text-white">User: {{ item.user }}</p>
          </div>
        </div>
      </a>
      }
    </div>
  </div>
</div>
