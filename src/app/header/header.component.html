<div
  class="px-[8%] h-[80px] border-b-2 flex flex-col justify-center"
  [class]="
    globalService.theme == 'Dark' ? 'border-[#FFFFFF2D]' : 'border-[#1E1E1E]'
  "
>
  <div class="flex justify-between">
    <div class="flex items-center gap-x-2">
      <button (click)="toggleSidebar()">
        <svg
          width="16"
          height="10"
          viewBox="0 0 16 10"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          @if(globalService.theme==="Dark"){
          <path
            d="M0 10V8.33333H16V10H0ZM0 5.83333V4.16667H16V5.83333H0ZM0 1.66667V0H16V1.66667H0Z"
            fill="#EEEEEE"
          />
          } @else{
          <path
            d="M0 10V8.33333H16V10H0ZM0 5.83333V4.16667H16V5.83333H0ZM0 1.66667V0H16V1.66667H0Z"
            fill="#1E1E1E"
          />
          }
        </svg>
      </button>

      <h2
        class="text-sm"
        [class]="
          globalService.theme == 'Dark' ? 'text-white' : 'text-[#1E1E1E]'
        "
      >
        Estro Tech
      </h2>
    </div>
    <div class="relative">
      <button
        (click)="profileBox()"
        class="relative w-8 h-8 rounded-2xl border flex items-center justify-center"
        [class]="
          globalService.theme == 'Dark'
            ? 'border-[#FFFFFF2D]'
            : 'border-[#1E1E1E]'
        "
      >
        @if(login){
        <p
          class="text-sm font-bold"
          [class]="
            globalService.theme == 'Dark' ? 'text-[#EEEEEE]' : 'text-[#1E1E1E]'
          "
        >
          {{ username.charAt(0) }}
        </p>
        } @else {
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="9"
          height="14"
          viewBox="0 0 9 14"
          fill="#EEEEEE"
        >
          <path
            d="M4.5 6C5.32843 6 6 5.32843 6 4.5C6 3.67157 5.32843 3 4.5 3C3.67157 3 3 3.67157 3 4.5C3 5.32843 3.67157 6 4.5 6Z"
          />
          <path
            d="M4.5 7C2.567 7 1 8.567 1 10.5V11C1 12.105 1.895 13 3 13H6C7.105 13 8 12.105 8 11V10.5C8 8.567 6.433 7 4.5 7Z"
          />
        </svg>
        }
      </button>
      @if(open){ @if(login){
      <div
        class="absolute flex flex-col gap-y-1.5 w-31 h-auto top-8 right-0.5 border border-[#383838] rounded-lg p-2.5 z-10 bg-[#1E1E1E]"
      >
        <div class="flex gap-x-3">
          <div
            class="h-4.5 w-4.5 border border-[#FFFFFF2D] rounded-[9px] flex justify-center items-center text-[10px] text-[#EEEEEE]"
          >
            {{ username.charAt(0) }}
          </div>
          <p class="text-sm text-[#FAFAFA] font-bold">{{ username }}</p>
        </div>
        <button (click)="toggleTheme()" class="flex gap-x-3">
          <div
            class="h-4.5 w-4.5 border border-[#FFFFFF2D] rounded-[9px] flex justify-center items-center"
          >
            <svg
              width="10"
              height="10"
              viewBox="0 0 10 10"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M4.5625 1.9375V0.1875H5.4375V1.9375H4.5625ZM7.47187 3.14062L6.87031 2.53906L8.09531 1.28125L8.70781 1.90469L7.47187 3.14062ZM8.0625 5.4375V4.5625H9.8125V5.4375H8.0625ZM4.5625 9.8125V8.0625H5.4375V9.8125H4.5625ZM2.52813 3.11875L1.28125 1.90469L1.90469 1.29219L3.14062 2.52813L2.52813 3.11875ZM8.08438 8.71875L6.87031 7.46094L7.46094 6.87031L8.70781 8.07344L8.08438 8.71875ZM0.1875 5.4375V4.5625H1.9375V5.4375H0.1875ZM1.90469 8.71875L1.29219 8.09531L2.51719 6.87031L2.83438 7.16563L3.15156 7.47187L1.90469 8.71875ZM5 7.625C4.27083 7.625 3.65104 7.36979 3.14062 6.85938C2.63021 6.34896 2.375 5.72917 2.375 5C2.375 4.27083 2.63021 3.65104 3.14062 3.14062C3.65104 2.63021 4.27083 2.375 5 2.375C5.72917 2.375 6.34896 2.63021 6.85938 3.14062C7.36979 3.65104 7.625 4.27083 7.625 5C7.625 5.72917 7.36979 6.34896 6.85938 6.85938C6.34896 7.36979 5.72917 7.625 5 7.625ZM5 6.75C5.48125 6.75 5.89323 6.57865 6.23594 6.23594C6.57865 5.89323 6.75 5.48125 6.75 5C6.75 4.51875 6.57865 4.10677 6.23594 3.76406C5.89323 3.42135 5.48125 3.25 5 3.25C4.51875 3.25 4.10677 3.42135 3.76406 3.76406C3.42135 4.10677 3.25 4.51875 3.25 5C3.25 5.48125 3.42135 5.89323 3.76406 6.23594C4.10677 6.57865 4.51875 6.75 5 6.75Z"
                fill="#EEEEEE"
              />
            </svg>
          </div>
          <p class="text-sm text-[#FAFAFA] font-bold">
            {{ globalService.theme }}
          </p>
        </button>
        <button (click)="logout()" class="flex gap-x-3">
          <div
            class="h-4.5 w-4.5 border border-[#FFFFFF2D] rounded-[9px] flex justify-center items-center"
          >
            <svg
              width="12"
              height="12"
              viewBox="0 0 12 12"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <mask
                id="mask0_305_98"
                style="mask-type: alpha"
                maskUnits="userSpaceOnUse"
                x="0"
                y="0"
                width="12"
                height="12"
              >
                <rect width="12" height="12" fill="#D9D9D9" />
              </mask>
              <g mask="url(#mask0_305_98)">
                <path
                  d="M2.28125 10.4688C2.08983 10.4688 1.92221 10.3968 1.77838 10.2529C1.63446 10.109 1.5625 9.94142 1.5625 9.75V2.28125C1.5625 2.08983 1.63446 1.92221 1.77838 1.77838C1.92221 1.63446 2.08983 1.5625 2.28125 1.5625H5.99375V2.28125H2.28125V9.75H5.99375V10.4688H2.28125ZM8.31875 8.14375L7.8 7.6375L9.0625 6.375H4.51875V5.65625H9.0375L7.775 4.39375L8.29375 3.88125L10.4375 6.025L8.31875 8.14375Z"
                  fill="#FAFAFA"
                />
              </g>
            </svg>
          </div>
          <p class="text-sm text-[#FAFAFA] font-bold">Log Out</p>
        </button>
      </div>
      } }
    </div>
  </div>
  @if(sideBarOpen){
  <div
    class="side-bar h-full animation-[animateleft 0.4s] w-[240px] fixed top-0 left-0"
    [class]="
      globalService.theme == 'Dark'
        ? 'text-white bg-[#1E1E1E]'
        : 'text-[#1E1E1E] bg-white'
    "
  >
    <button class="absolute top-2 right-2" (click)="toggleSidebar()">x</button>
    <h4
      class="text-sm font-bold py-4 mb-5 border-b-1 px-6"
      [class]="
        globalService.theme == 'Dark' ? 'border-white' : 'border-[#1E1E1E]'
      "
    >
      Estro Tech
    </h4>
    @for(item of menuItems; track item.route){
    <a
      routerLink="{{ item.route }}"
      routerLinkActive="active"
      ariaCurrentWhenActive="page"
    >
      <div class="text-sm w-full mb-4 px-6">{{ item.label }}</div>
    </a>
    }
  </div>
  } @if(open){ @if(!login){
  <div
    class="absolute bg-[#1E1E1E] shadow-[0_0_0_12px_#1E1E1E17] top-[30%] transform-[translate(-50%,50%)] p-8 left-[50%] w-100 max-w-full"
  >
    <button
      (click)="profileBox()"
      class="flex justify-end ml-auto text-sm mb-2"
      [class]="globalService.theme == 'Dark' ? 'text-white' : 'text-[#1E1E1E]'"
    >
      x
    </button>
    <form class="flex flex-col gap-y-4" (submit)="formSubmit($event)">
      <input
        type="text"
        placeholder="Enter User Name"
        name="uname"
        [value]="uname"
        class="text w-full text-[#EEEEEE] focus:outline-0 h-8 border border-[#EEEEEE] rounded-lg p-3 placeholder:text-white"
      />
      <input
        type="password"
        placeholder="Enter password"
        [value]="pass"
        name="pass"
        class="text w-full text-[#EEEEEE] focus:outline-0 h-8 border border-[#EEEEEE] rounded-lg p-3 placeholder:text-white"
      />
      <input
        type="submit"
        class="submit mt-4 h-8 bg-white rounded-lg"
        value="Login"
      />
    </form>
  </div>
  } }
</div>
